# Blog View Page

## Overview
The blog view page displays individual patch note posts generated by AI from GitHub repository changes.

## Location
`/app/blog/[id]/page.tsx`

## Features

### 1. **View Mode**
- Displays the patch note title, content, and metadata
- Shows change statistics (lines added, modified, removed)
- Lists contributors
- Renders markdown content with GitHub-flavored markdown support
- Includes badges for time period (Daily/Weekly/Monthly) and generation date

### 2. **Edit Mode**
- Click the "Edit" button to enter edit mode
- Edit both the title and content directly
- Content is edited in a textarea with monospace font
- Cancel or Save changes
- Changes are saved to the patch note (API integration needed)

### 3. **Send Email**
- Click "Send Email" button to send patch notes to all recipients
- Shows loading state while sending
- Requires API integration with email service

### 4. **Navigation**
- "Back to Home" button returns to the main landing page
- Repository name links to the GitHub repository

## Components Used

### ShadCN UI Components
- `Button` - For actions (Edit, Save, Cancel, Send Email)
- `Card` - For content sections
- `Badge` - For tags and labels
- `Textarea` - For editing content
- `Separator` - For visual separation

### Icons (lucide-react)
- `ArrowLeftIcon` - Back navigation
- `PencilIcon` - Edit action
- `SaveIcon` - Save action
- `SendIcon` - Send email action
- `XIcon` - Cancel action

## Styling
- Uses Tailwind CSS with custom theme colors
- Responsive design with mobile-first approach
- Dark mode support through CSS variables
- Typography plugin for markdown rendering
- Gradient background for modern look

## Data Structure

```typescript
interface PatchNote {
  id: string;
  repoName: string;
  repoUrl: string;
  timePeriod: '1day' | '1week' | '1month';
  generatedAt: Date;
  title: string;
  content: string;
  changes: {
    added: number;
    modified: number;
    removed: number;
  };
  contributors: string[];
}
```

## TODO: API Integration

The following functions need to be connected to actual APIs:

1. **Fetch Patch Note**
   - Replace `getMockPatchNote()` with actual API call
   - Endpoint: `GET /api/patch-notes/:id`

2. **Save Changes**
   - Implement in `handleSave()`
   - Endpoint: `PUT /api/patch-notes/:id`
   - Payload: `{ title, content }`

3. **Send Email**
   - Implement in `handleSendEmail()`
   - Endpoint: `POST /api/patch-notes/:id/send`
   - Should send to all recipients in the email list

## Dependencies

- `react-markdown` - Markdown rendering
- `remark-gfm` - GitHub-flavored markdown support
- `lucide-react` - Icons
- `@tailwindcss/typography` - Prose styling for markdown

## Usage

Access the page at: `/blog/[id]` where `[id]` is the patch note ID.

Example: `/blog/123` will display the patch note with ID "123".

